"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5675],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return u}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),p=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=p(e.components);return r.createElement(c.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=p(n),u=a,f=d["".concat(c,".").concat(u)]||d[u]||m[u]||o;return n?r.createElement(f,i(i({ref:t},s),{},{components:n})):r.createElement(f,i({ref:t},s))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},6632:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return i},default:function(){return m},frontMatter:function(){return o},metadata:function(){return l},toc:function(){return p}});var r=n(3117),a=(n(7294),n(3905));const o={},i="Configuration file",l={unversionedId:"legacy/configuration-file",id:"legacy/configuration-file",title:"Configuration file",description:"Protostar can be configured with file protostar.toml, which is located in the root of your project. The file uses the TOML format and allows you to specify various options and settings for Protostar.",source:"@site/docs/legacy/04-configuration-file.md",sourceDirName:"legacy",slug:"/legacy/configuration-file",permalink:"/protostar/docs/legacy/configuration-file",draft:!1,editUrl:"https://github.com/software-mansion/protostar/tree/master/website/docs/legacy/04-configuration-file.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{},sidebar:"legacy",previous:{title:"Project initialization",permalink:"/protostar/docs/legacy/project-initialization"},next:{title:"Compilation",permalink:"/protostar/docs/legacy/compiling"}},c={},p=[{value:"<code>[project]</code> section",id:"project-section",level:3},{value:"<code>protostar-version</code>",id:"protostar-version",level:4},{value:"Shared Configuration",id:"shared-configuration",level:4},{value:"<code>[contracts]</code> section",id:"contracts-section",level:3},{value:"Command Arguments Configuration Section",id:"command-arguments-configuration-section",level:3},{value:"Configuration Profiles",id:"configuration-profiles",level:3},{value:"Migrating from an Older Version of <code>protostar.toml</code>",id:"migrating-from-an-older-version-of-protostartoml",level:2}],s={toc:p};function m(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"configuration-file"},"Configuration file"),(0,a.kt)("p",null,"Protostar can be configured with file ",(0,a.kt)("inlineCode",{parentName:"p"},"protostar.toml"),", which is located in the root of your project. The file uses the ",(0,a.kt)("a",{parentName:"p",href:"https://toml.io/en/"},"TOML")," format and allows you to specify various options and settings for Protostar."),(0,a.kt)("p",null,"Here is an example ",(0,a.kt)("inlineCode",{parentName:"p"},"protostar.toml")," file:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-toml",metastring:'title="protostar.toml example"',title:'"protostar.toml','example"':!0},'[project]\nprotostar-version = "PROTOSTAR_VERSION"     # required\n\n# Shared Configuration (affects all commands)\nlib-path = "lib"                            # install, update, remove\ncairo-path = ["lib/cairo-contracts/src"]    # build, test\n\n# Defines contract names. Currently, this section is required by the build command.\n[contracts]\nmain = ["src/feature_a.cairo", "src/feature_b.cairo"]   \nproxy = ["src/proxy.cairo"]\naccount = ["src/account.cairo"]\n\n# Command Arguments Configuration Section\n[test]\ntarget = ["src"]\n\n# Command Configuration Profile\n[profile.integration.test]\ntarget = ["tests/integration"]\nreport-slowest-tests = 5\n\n# Shared Configuration Profile\n[profile.devnet.project]\ngateway-url = "http://127.0.0.1:5050/"\nchain-id = 1536727068981429685321\n\n[profile.testnet.project]\nnetwork = "testnet"\n')),(0,a.kt)("h3",{id:"project-section"},(0,a.kt)("inlineCode",{parentName:"h3"},"[project]")," section"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"[project]")," section of the ",(0,a.kt)("inlineCode",{parentName:"p"},"protostar.toml")," file allows you to specify global options and settings for your project."),(0,a.kt)("h4",{id:"protostar-version"},(0,a.kt)("inlineCode",{parentName:"h4"},"protostar-version")),(0,a.kt)("p",null,"This attribute is defines what Protostar version should be used with your project.\nIt should be set to the latest compatible Protostar version.\nIf you try to use a different version of Protostar with your project, you will receive a warning and you may experience unexpected errors.\nThis attribute should be updated manually."),(0,a.kt)("h4",{id:"shared-configuration"},"Shared Configuration"),(0,a.kt)("p",null,"You can specify options that are shared by multiple Protostar commands in the ",(0,a.kt)("inlineCode",{parentName:"p"},"[project]")," section.\nFor example, the ",(0,a.kt)("a",{parentName:"p",href:"/docs/cli-reference#--lib-path-path"},(0,a.kt)("inlineCode",{parentName:"a"},"lib-path"))," option is used by the ",(0,a.kt)("a",{parentName:"p",href:"/docs/cli-reference#install"},(0,a.kt)("inlineCode",{parentName:"a"},"install")),", ",(0,a.kt)("a",{parentName:"p",href:"/docs/cli-reference#update"},(0,a.kt)("inlineCode",{parentName:"a"},"update")),", and ",(0,a.kt)("a",{parentName:"p",href:"/docs/cli-reference#remove"},(0,a.kt)("inlineCode",{parentName:"a"},"remove"))," commands, and ",(0,a.kt)("a",{parentName:"p",href:"/docs/cli-reference#--cairo-path-path"},(0,a.kt)("inlineCode",{parentName:"a"},"cairo-path"))," is used by the ",(0,a.kt)("a",{parentName:"p",href:"/docs/cli-reference#build"},(0,a.kt)("inlineCode",{parentName:"a"},"build"))," and ",(0,a.kt)("a",{parentName:"p",href:"/docs/cli-reference#test"},(0,a.kt)("inlineCode",{parentName:"a"},"test"))," commands."),(0,a.kt)("h3",{id:"contracts-section"},(0,a.kt)("inlineCode",{parentName:"h3"},"[contracts]")," section"),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"[contracts]")," section allows you to define contract names and the corresponding files that make up each contract.\nThis is useful because it allows you to refer to contracts by name rather than having to specify the full file path each time.\nYou can also combine multiple files into a single contract.\nCurrently, the ",(0,a.kt)("inlineCode",{parentName:"p"},"[contracts]")," section is required by the ",(0,a.kt)("a",{parentName:"p",href:"/docs/cli-reference#build"},(0,a.kt)("inlineCode",{parentName:"a"},"protostar build"))," command."),(0,a.kt)("p",null,"Here is an example of how to define a contract in the ","[contracts]"," section:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-toml"},'[contracts]\nmy_contract = ["src/feature_a.cairo", "src/feature_b.cairo"]   \n')),(0,a.kt)("h3",{id:"command-arguments-configuration-section"},"Command Arguments Configuration Section"),(0,a.kt)("p",null,"The Command Arguments Configuration section of the ",(0,a.kt)("inlineCode",{parentName:"p"},"protostar.toml")," file allows you to specify arguments for a specific Protostar command."),(0,a.kt)("p",null,"For example, the following configuration file specifies the ",(0,a.kt)("a",{parentName:"p",href:"/docs/cli-reference#target-string"},(0,a.kt)("inlineCode",{parentName:"a"},"target"))," and ",(0,a.kt)("a",{parentName:"p",href:"/docs/cli-reference#--ignore-broken"},(0,a.kt)("inlineCode",{parentName:"a"},"ignore-broken"))," arguments for the ",(0,a.kt)("a",{parentName:"p",href:"/docs/cli-reference#format"},(0,a.kt)("inlineCode",{parentName:"a"},"protostar format")," command"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-toml",metastring:'title="Configuration File"',title:'"Configuration','File"':!0},'[format]\ntarget = ["src", "tests"]\nignore-broken = true\n')),(0,a.kt)("p",null,"You can then run the ",(0,a.kt)("a",{parentName:"p",href:"/docs/cli-reference#format"},(0,a.kt)("inlineCode",{parentName:"a"},"protostar format"))," command without specifying the ",(0,a.kt)("a",{parentName:"p",href:"/docs/cli-reference#target-string"},(0,a.kt)("inlineCode",{parentName:"a"},"target"))," and ",(0,a.kt)("a",{parentName:"p",href:"/docs/cli-reference#--ignore-broken"},(0,a.kt)("inlineCode",{parentName:"a"},"ignore-broken"))," arguments in the console:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-console",metastring:'title="CLI"',title:'"CLI"'},"protostar format\n")),(0,a.kt)("p",null,"To learn more about the available options and arguments for each Protostar command, refer to the ",(0,a.kt)("a",{parentName:"p",href:"/docs/cli-reference"},"CLI Reference")," or run ",(0,a.kt)("inlineCode",{parentName:"p"},"protostar COMMAND --help")," to see the list of supported arguments."),(0,a.kt)("h3",{id:"configuration-profiles"},"Configuration Profiles"),(0,a.kt)("p",null,"Configuration profiles allow you to easily switch between different Protostar configurations.\nWhen you use a profile, it will override the default settings specified in the ",(0,a.kt)("inlineCode",{parentName:"p"},"protostar.toml")," file with the settings specified in the profile."),(0,a.kt)("p",null,"To create a configuration profile, add a new section to the ",(0,a.kt)("inlineCode",{parentName:"p"},"protostar.toml"),". For example:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"to create a ",(0,a.kt)("a",{parentName:"li",href:"#command"},"Command Configuration")," named ",(0,a.kt)("inlineCode",{parentName:"li"},"mainnet")," for the ",(0,a.kt)("a",{parentName:"li",href:"/docs/cli-reference#declare"},(0,a.kt)("inlineCode",{parentName:"a"},"declare")," command"),", add ",(0,a.kt)("inlineCode",{parentName:"li"},"[profile.mainnet.declare]")," section"),(0,a.kt)("li",{parentName:"ul"},"to create a ",(0,a.kt)("a",{parentName:"li",href:"#shared-configuration"},"Shared Configuration")," named ",(0,a.kt)("inlineCode",{parentName:"li"},"testnet"),", add ",(0,a.kt)("inlineCode",{parentName:"li"},"[profile.testnet.project]")," section")),(0,a.kt)("p",null,"To use a profile, add the ",(0,a.kt)("a",{parentName:"p",href:"/docs/cli-reference#-p---profile-string"},"-p or --profile argument")," followed by the name of the profile.\nFor example, to use the ",(0,a.kt)("a",{parentName:"p",href:"/docs/cli-reference#declare"},(0,a.kt)("inlineCode",{parentName:"a"},"declare")," command")," with the ",(0,a.kt)("inlineCode",{parentName:"p"},"testnet")," profile, run:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-console"},"protostar -p devnet declare\n")),(0,a.kt)("h2",{id:"migrating-from-an-older-version-of-protostartoml"},"Migrating from an Older Version of ",(0,a.kt)("inlineCode",{parentName:"h2"},"protostar.toml")),(0,a.kt)("p",null,"If you have a ",(0,a.kt)("inlineCode",{parentName:"p"},"protostar.toml")," file created by an older version of Protostar, you can use the ",(0,a.kt)("a",{parentName:"p",href:"/docs/cli-reference#migrate-configuration-file"},(0,a.kt)("inlineCode",{parentName:"a"},"protostar migrate-configuration-file")," command")," to update it to the latest format."),(0,a.kt)("p",null,"This command makes the following changes to your protostar.toml file:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Removes the ",(0,a.kt)("inlineCode",{parentName:"li"},"protostar")," prefix from configuration sections"),(0,a.kt)("li",{parentName:"ul"},"Changes section names to not be in double quotes"),(0,a.kt)("li",{parentName:"ul"},"Merges the ",(0,a.kt)("inlineCode",{parentName:"li"},'["protostar.config"]')," and ",(0,a.kt)("inlineCode",{parentName:"li"},'["protostar.shared_command_configs"]')," sections into the ",(0,a.kt)("inlineCode",{parentName:"li"},"[project]")," section"),(0,a.kt)("li",{parentName:"ul"},"Changes all keys to use ",(0,a.kt)("inlineCode",{parentName:"li"},"kebab-case")," instead of ",(0,a.kt)("inlineCode",{parentName:"li"},"snake_case"))),(0,a.kt)("p",null,"Here is a table showing the changes between the old and new configuration files:"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"protostar.toml V1"),(0,a.kt)("th",{parentName:"tr",align:null},"protostar.toml V2"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},'["protostar.config"]')),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"[project]"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},'["protostar.project"]')),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"[project]"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},'["protostar.shared_command_configs"]')),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"[project]"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},'["protostar.contracts"]'),", ",(0,a.kt)("inlineCode",{parentName:"td"},'["protostar.build"]'),", ..."),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"[contracts]"),", ",(0,a.kt)("inlineCode",{parentName:"td"},"[build]"),", ...")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"cairo_path = ..."),", ",(0,a.kt)("inlineCode",{parentName:"td"},"cairo-path = ...")),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"cairo-path = ..."))))),(0,a.kt)("p",null,"To migrate your ",(0,a.kt)("inlineCode",{parentName:"p"},"protostar.toml")," file, run the following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-console"},"protostar migrate-configuration-file\n")))}m.isMDXComponent=!0}}]);